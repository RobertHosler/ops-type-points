<div class="container">
  <h1>
    <span class="search-heading">Search the </span
    ><span class="sp-branding">OPS Database</span>
  </h1>

  <span class="search-type-label">Select Search Type</span>
  <div class="btn-group btn-group-toggle search-type-group" data-toggle="buttons">
    <label
      class="btn btn-primary"
      [ngClass]="{ active: searchType === 'coins' }"
    >
      <input
        type="radio"
        name="options"
        id="coinsOption"
        [(ngModel)]="searchType"
        value="coins"
        autocomplete="off"
      />
      Coins
    </label>
    <label
      class="btn btn-primary"
      [ngClass]="{ active: searchType === 'name' }"
    >
      <input
        type="radio"
        name="options"
        id="nameOption"
        [(ngModel)]="searchType"
        value="name"
        autocomplete="off"
      />
      Name
    </label>
    <label
      class="btn btn-primary"
      [ngClass]="{ active: searchType === 'type' }"
    >
      <input
        type="radio"
        name="options"
        id="typeOption"
        [(ngModel)]="searchType"
        value="type"
        autocomplete="off"
      />
      Type
    </label>
  </div>

  <div class="">
    <div class="search-coins" *ngIf="searchType === 'coins'">
      <div class="row">
        <div class="col-md-6 ">
          <span class="coin-label">Human Needs</span>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              observer: hn1Label === 'Observer',
              decider: hn1Label === 'Decider'
            }"
            type="button"
            (click)="hn1()"
          >
            {{ !hn1Label ? "Obs/Dec" : hn1Label }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              oe: ohnLabel === 'Oe',
              oi: ohnLabel === 'Oi'
            }"
            type="button"
            (click)="ohn()"
          >
            {{ !ohnLabel ? "Oe/Oi" : ohnLabel }}
          </button>
          <button
            class="btn btn-secondary coin-btn"
            [ngClass]="{ de: dhnLabel === 'De', di: dhnLabel === 'Di' }"
            type="button"
            (click)="dhn()"
          >
            {{ !dhnLabel ? "De/Di" : dhnLabel }}
          </button>
        </div>
        <div class="col-md-6 ">
          <span class="coin-label">Letters</span>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            type="button"
            (click)="ol()"
            [ngClass]="{
              sensory: olLabel === 'Sensory',
              intuition: olLabel === 'Intuition'
            }"
          >
            {{ !olLabel ? "S/N" : olLabel }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            type="button"
            (click)="dl()"
            [ngClass]="{
              feeling: dlLabel === 'Feeling',
              thinking: dlLabel === 'Thinking'
            }"
          >
            {{ !dlLabel ? "F/T" : dlLabel }}
          </button>
        </div>
        <div class="col-md-6 ">
          <span class="coin-label">Animals</span>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{ play: eaLabel === 'Play', sleep: eaLabel === 'Sleep' }"
            type="button"
            (click)="ea()"
          >
            {{ !eaLabel ? "P/S" : eaLabel }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              consume: iaLabel === 'Consume',
              blast: iaLabel === 'Blast'
            }"
            type="button"
            (click)="ia()"
          >
            {{ !iaLabel ? "B/C" : iaLabel }}
          </button>
          <button
            class="btn btn-secondary coin-btn"
            [ngClass]="{
              info: domLabel === 'Info',
              energy: domLabel === 'Energy'
            }"
            type="button"
            (click)="dom()"
          >
            {{ !domLabel ? "Info/Energy" : domLabel }}
          </button>
        </div>
        <div class="col-md-6 ">
          <span class="coin-label">Modalities</span>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            type="button"
            (click)="smod()"
            [ngClass]="{
              msensory: smodLabel === 'M S',
              fsensory: smodLabel === 'F S'
            }"
          >
            {{ !smodLabel ? "M/F S" : smodLabel }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              msensory: demodLabel === 'M De',
              fsensory: demodLabel === 'F De'
            }"
            type="button"
            (click)="demod()"
          >
            {{ !demodLabel ? "M/F De" : demodLabel }}
          </button>
        </div>
      </div>
      <div class="coin-search-btn-group">
        <button
          class="btn btn-lg btn-primary mr-3"
          type="button"
          (click)="searchCoins()"
        >
          Search
        </button>
        <button
          class="btn btn-secondary mr-3"
          type="button"
          (click)="resetCoins()"
        >
          Reset
        </button>
      </div>
    </div>
    <div class="mb-5 search-name" *ngIf="searchType === 'name'">
      <form (ngSubmit)="onSubmitName(nameForm)" #nameForm="ngForm">
        <div class="form-group">
          <label for="name" class="name-label">Name</label>
          <input
            id="name"
            type="text"
            class="form-control"
            minlength="2"
            required
            [(ngModel)]="nameString"
            name="name"
          />
          <div class="help small">Searches for the text within the name field of the person record. Ex1: 'Jan', Ex2: 'Jon'</div>
        </div>
        <div>
          <button class="btn btn-lg btn-primary mr-3" type="submit">
            Search
          </button>
        </div>
      </form>
    </div>
    
    <div class="search-coins" *ngIf="searchType === 'type'">
        <form (ngSubmit)="onSubmitType(typeForm)" #typeForm="ngForm">
          <div class="form-group">
            <label for="type" class="type-label">Type</label>
            <input
              id="type"
              type="text"
              class="form-control"
              minlength="2"
              required
              [(ngModel)]="typeString"
              name="type"
            />
            <div class="help small">Enter some part of a full type. Performs a search of the full type string (including dashes and parenthesis). Ex1: MF, Ex2: Ne/Ti, Ex3: CP/S(B). Ex4: FF-Fe/Se</div>
          </div>
          <div>
            <button class="btn btn-lg btn-primary mr-3" type="submit">
              Search
            </button>
          </div>
        </form>
    </div>
  </div>

  <p class="text-notice">
    There is currently a max of {{ maxRecords }} records returned. Narrow your
    search if possible, but I should be able to increase this soon.
  </p>
  <p *ngIf="displayedRecords && displayedRecords.length > 0" class="text-info">
    Search found {{ displayedRecords.length }} results.
  </p>
</div>
<div class="container-fluid records-bg">
    <app-type-record-list [typeRecords]="displayedRecords" [loading]="searchLoading"></app-type-record-list>
</div>
