<div class="container">
  <h1>
    <span class="search-heading">Search the </span
    ><span class="sp-branding">OPS Database</span>
  </h1>

  <span class="search-type-label">Select Search Type</span>
  <div
    class="btn-group btn-group-toggle search-type-group"
    data-toggle="buttons"
  >
    <label
      class="btn btn-primary"
      [ngClass]="{ active: searchType === 'coins' }"
    >
      <input
        type="radio"
        name="options"
        id="coinsOption"
        [(ngModel)]="searchType"
        value="coins"
        autocomplete="off"
      />
      Coins
    </label>
    <label
      class="btn btn-primary"
      [ngClass]="{ active: searchType === 'name' }"
    >
      <input
        type="radio"
        name="options"
        id="nameOption"
        [(ngModel)]="searchType"
        value="name"
        autocomplete="off"
      />
      Name
    </label>
    <label
      class="btn btn-primary"
      [ngClass]="{ active: searchType === 'type' }"
    >
      <input
        type="radio"
        name="options"
        id="typeOption"
        [(ngModel)]="searchType"
        value="type"
        autocomplete="off"
      />
      Type
    </label>
  </div>

  <div class="search-coins" *ngIf="searchType === 'coins'">
    <div class="row">
      <div class="col-md-6">
        <span class="coin-label">Human Needs</span>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              observer: hn1Label === 'Observer',
              decider: hn1Label === 'Decider'
            }"
            type="button"
            (click)="hn1()"
          >
            {{ !hn1Label ? "Obs/Dec" : hn1Label }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              oe: ohnLabel === 'Oe',
              oi: ohnLabel === 'Oi'
            }"
            type="button"
            (click)="ohn()"
          >
            {{ !ohnLabel ? "Oe/Oi" : ohnLabel }}
          </button>
          <button
            class="btn btn-secondary coin-btn"
            [ngClass]="{ de: dhnLabel === 'De', di: dhnLabel === 'Di' }"
            type="button"
            (click)="dhn()"
          >
            {{ !dhnLabel ? "De/Di" : dhnLabel }}
          </button>
        </div>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: hn1Label === 'Decider' && dhnLabel === 'De'
            }"
            type="button"
            (click)="exxj()"
          >
            ExxJ
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: hn1Label === 'Decider' && dhnLabel === 'Di'
            }"
            type="button"
            (click)="ixxp()"
          >
            IxxP
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: hn1Label === 'Observer' && ohnLabel === 'Oe'
            }"
            type="button"
            (click)="exxp()"
          >
            ExxP
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: hn1Label === 'Observer' && ohnLabel === 'Oi'
            }"
            type="button"
            (click)="ixxj()"
          >
            IxxJ
          </button>
        </div>
      </div>
      <div class="col-md-6">
        <span class="coin-label">Letters</span>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            type="button"
            (click)="ol()"
            [ngClass]="{
              sensory: olLabel === 'Sensory',
              intuition: olLabel === 'Intuition'
            }"
          >
            {{ !olLabel ? "S/N" : olLabel }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            type="button"
            (click)="dl()"
            [ngClass]="{
              feeling: dlLabel === 'Feeling',
              thinking: dlLabel === 'Thinking'
            }"
          >
            {{ !dlLabel ? "F/T" : dlLabel }}
          </button>
        </div>
        <div></div>
        <button
          class="btn btn-secondary mr-3 coin-btn"
          [ngClass]="{
            active: dlLabel === 'Feeling' && olLabel === 'Intuition'
          }"
          type="button"
          (click)="nf()"
        >
          NF
        </button>
        <button
          class="btn btn-secondary mr-3 coin-btn"
          [ngClass]="{
            active: dlLabel === 'Thinking' && olLabel === 'Intuition'
          }"
          type="button"
          (click)="nt()"
        >
          NT
        </button>
        <button
          class="btn btn-secondary mr-3 coin-btn"
          [ngClass]="{
            active: dlLabel === 'Feeling' && olLabel === 'Sensory'
          }"
          type="button"
          (click)="sf()"
        >
          SF
        </button>
        <button
          class="btn btn-secondary mr-3 coin-btn"
          [ngClass]="{
            active: dlLabel === 'Thinking' && olLabel === 'Sensory'
          }"
          type="button"
          (click)="st()"
        >
          ST
        </button>
      </div>
      <div class="col-md-6">
        <span class="coin-label">Animals</span>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{ play: eaLabel === 'Play', sleep: eaLabel === 'Sleep' }"
            type="button"
            (click)="ea()"
          >
            {{ !eaLabel ? "P/S" : eaLabel }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              consume: iaLabel === 'Consume',
              blast: iaLabel === 'Blast'
            }"
            type="button"
            (click)="ia()"
          >
            {{ !iaLabel ? "B/C" : iaLabel }}
          </button>
          <button
            class="btn btn-secondary coin-btn"
            [ngClass]="{
              info: domLabel === 'Info',
              energy: domLabel === 'Energy'
            }"
            type="button"
            (click)="dom()"
          >
            {{ !domLabel ? "Info/Energy" : domLabel }}
          </button>
        </div>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: eaLabel === 'Play' && iaLabel === 'Consume'
            }"
            type="button"
            (click)="skib()"
          >
            Skib
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: eaLabel === 'Sleep' && iaLabel === 'Blast'
            }"
            type="button"
            (click)="bs()"
          >
            BS
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: eaLabel === 'Play' && iaLabel === 'Blast'
            }"
            type="button"
            (click)="crack()"
          >
            PB
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: eaLabel === 'Sleep' && iaLabel === 'Consume'
            }"
            type="button"
            (click)="mope()"
          >
            Mope
          </button>
        </div>
      </div>
      <div class="col-md-6">
        <span class="coin-label">Modalities</span>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            type="button"
            (click)="smod()"
            [ngClass]="{
              msensory: smodLabel === 'M S',
              fsensory: smodLabel === 'F S'
            }"
          >
            {{ !smodLabel ? "M/F S" : smodLabel }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              msensory: demodLabel === 'M De',
              fsensory: demodLabel === 'F De'
            }"
            type="button"
            (click)="demod()"
          >
            {{ !demodLabel ? "M/F De" : demodLabel }}
          </button>
        </div>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: smodLabel === 'M S' && demodLabel === 'M De'
            }"
            type="button"
            (click)="mm()"
          >
            MM
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: smodLabel === 'M S' && demodLabel === 'F De'
            }"
            type="button"
            (click)="mf()"
          >
            MF
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: smodLabel === 'F S' && demodLabel === 'F De'
            }"
            type="button"
            (click)="ff()"
          >
            FF
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: smodLabel === 'F S' && demodLabel === 'M De'
            }"
            type="button"
            (click)="fm()"
          >
            FM
          </button>
        </div>
      </div>
      <div class="col-md-6">
        <span class="coin-label">Other</span>
        <div>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            type="button"
            (click)="sex()"
            [ngClass]="{
              male: sexLabel === 'Male',
              female: sexLabel === 'Female'
            }"
          >
            {{ sexLabel }}
          </button>
          <button
            class="btn btn-secondary mr-3 coin-btn"
            [ngClass]="{
              active: classLabel === 'Class Only'
            }"
            type="button"
            (click)="class()"
          >
            {{ classLabel }}
          </button>
        </div>
      </div>
    </div>
    <div class="coin-search-btn-group">
      <button
        class="btn btn-lg btn-primary mr-3"
        type="button"
        (click)="searchCoins()"
      >
        Search
      </button>
      <button
        class="btn btn-secondary mr-3"
        type="button"
        (click)="resetCoins()"
      >
        Reset
      </button>
    </div>
  </div>
  <div class="mb-5 search-name" *ngIf="searchType === 'name'">
    <form (ngSubmit)="onSubmitName(nameForm)" #nameForm="ngForm">
      <div class="form-group">
        <label for="name" class="name-label">Name</label>
        <input
          id="name"
          type="text"
          class="form-control"
          minlength="2"
          required
          [(ngModel)]="nameString"
          name="name"
        />
        <div class="help small">
          Searches for the text within the name field of the person record. Ex1:
          'Jan', Ex2: 'Jon'
        </div>
      </div>
      <div>
        <button class="btn btn-lg btn-primary mr-3" type="submit">
          Search
        </button>
      </div>
    </form>
  </div>

  <div class="search-coins" *ngIf="searchType === 'type'">
    <form (ngSubmit)="onSubmitType(typeForm)" #typeForm="ngForm">
      <div class="form-group">
        <label for="type" class="type-label">Type</label>
        <input
          id="type"
          type="text"
          class="form-control"
          minlength="2"
          required
          [(ngModel)]="typeString"
          name="type"
        />
        <div class="help small">
          Enter some part of a full type. Performs a search of the full type
          string (including dashes and parenthesis). Ex1: MF, Ex2: Ne/Ti, Ex3:
          CP/S(B). Ex4: FF-Fe/Se
        </div>
      </div>
      <div>
        <button class="btn btn-lg btn-primary mr-3" type="submit">
          Search
        </button>
      </div>
    </form>
  </div>

  <p class="text-notice" *ngIf="false">
    There is currently a max of {{ maxRecords }} records returned. Narrow your
    search if possible, but I should be able to increase this soon.
  </p>
  <p *ngIf="displayedRecords && displayedRecords.length > 0" class="text-info">
    Search found {{ displayedRecords.length }} results.
  </p>
</div>
<div class="container-fluid records-bg">
  <app-type-record-list
    [typeRecords]="displayedRecords"
    [loading]="searchLoading"
    [linkToAnalyzer]="true"
  ></app-type-record-list>
</div>
