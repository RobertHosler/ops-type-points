<div class="text-center" *ngIf="loading">
  {{ loadingMessage }}
  <img
    height="100px"
    src="/assets/images/sp-logo-no-bg.png"
    class="sp-logo flip"
  />
</div>

<div *ngIf="!loading">
  <div class="image-row">
    <div *ngFor="let typeRecord of typeRecords" class="type-record">
      <div class="image-col" *ngIf="typeRecord.type || typeRecord.fullEType">
        <div class="image-text">
          <div class="name-wrapper">
            <div class="image-name">
              <div class="">{{ typeRecord.name }}</div>
            </div>
            <div
              *ngIf="typeRecord.type && showMolecule && !displayPracticeLink"
            >
              <app-type-indicator
                [option]="1"
                [type]="typeRecord.type"
              ></app-type-indicator>
            </div>
          </div>
          <div *ngIf="displayPracticeLink">
            <a
              [routerLink]="['/practice']"
              [queryParams]="{ name: typeRecord.name }"
              >Practice Typing</a
            >
          </div>
        </div>
        <div class="image-wrapper">
          <div
            class="image-img"
            [ngClass]="{'image-missing': !typeRecord.pictureUrl}"
            [ngStyle]="{
              'background-image': 'url(' + (typeRecord.pictureUrl ? typeRecord.pictureUrl : '/assets/images/sp-logo-no-bg.png') + ')'
            }"
          >
            <span class="image-missing-text" *ngIf="!typeRecord.pictureUrl">
              Image Missing
            </span>
        </div>
        </div>
        <div class="image-text-bottom text-center">
          <div class="type-wrapper" *ngIf="!displayPracticeLink">
            <div class="image-type" *ngIf="typeRecord.type">
              <a
                class="analyzer-link"
                *ngIf="linkToAnalyzer && typeRecord.type.length === 16"
                [routerLink]="['/analyzer']"
                [queryParams]="{
                  s1: analyzerLinkSav1(typeRecord.type),
                  s2: analyzerLinkSav2(typeRecord.type),
                  a: analyzerLinkAnimals(typeRecord.type),
                  m: analyzerLinkMod(typeRecord.type)
                }"
                >{{ typeRecord.type }}</a
              >
              <span *ngIf="!linkToAnalyzer || typeRecord.type.length !== 16">{{
                typeRecord.type
              }}</span>
            </div>
            <div class="image-type" *ngIf="typeRecord.fullEType">
              {{ typeRecord.fullEType }}
            </div>
          </div>
          <div class="image-tags">
            <div *ngFor="let tag of typeRecord.tags">
              {{ tag }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center" *ngIf="!typeRecords || typeRecords.length === 0">
    <p>{{ notFoundMessage }}</p>
    <img height="400px" src="/assets/images/type-twin-404.jpg" />
  </div>
  <div class="mt-2">
    <div class="mb-2 text-center">
      Type records courtesy of the
      <a
        target="_blank"
        href="https://airtable.com/shrQ6IoDtlXpzmC1l/tblyUDDV5zVyuX5VL/viweXFJuHAQpi5as3"
        >Objective Personality Database</a
      >, a project by Ryan and Jana based on typings by Dave and Shannon Powers.
      <a
        target="_blank"
        href="https://subjectivepersonality.wordpress.com/2021/05/07/objective-personality-database/"
        >Learn More</a
      >
    </div>
  </div>
</div>
